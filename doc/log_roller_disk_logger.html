<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Module log_roller_disk_logger</title>
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="EDoc">
</head>
<body bgcolor="white">
<div class="navbar"><a name="#navbar_top"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<hr>

<h1>Module log_roller_disk_logger</h1>
<ul class="index"><li><a href="#index">Function Index</a></li><li><a href="#functions">Function Details</a></li></ul>

<p><b>Behaviours:</b> <a href="gen_server.html"><tt>gen_server</tt></a>.</p>

<h2><a name="index">Function Index</a></h2>
<table width="100%" border="1" cellspacing="0" cellpadding="2" summary="function index"><tr><td valign="top"><a href="#current_location-0">current_location/0</a></td><td>return the current location details of the disk_log
  FileStub is the base file name which Index is appended to
  when creating the logs.</td></tr>
<tr><td valign="top"><a href="#options-0">options/0</a></td><td></td></tr>
<tr><td valign="top"><a href="#ping-0">ping/0</a></td><td>respond to ping requests sent from publisher nodes with the gen_server process id.</td></tr>
<tr><td valign="top"><a href="#reload-0">reload/0</a></td><td>reload using config values.</td></tr>
<tr><td valign="top"><a href="#start_link-0">start_link/0</a></td><td>start the server.</td></tr>
<tr><td valign="top"><a href="#subscribe_to-1">subscribe_to/1</a></td><td>send a message to the specified node, registering the gen_server process as a subscriber.</td></tr>
<tr><td valign="top"><a href="#sync-0">sync/0</a></td><td>call disk_log:sync() and force flush of cache.</td></tr>
<tr><td valign="top"><a href="#total_writes-0">total_writes/0</a></td><td></td></tr>
</table>

<h2><a name="functions">Function Details</a></h2>

<h3 class="function"><a name="current_location-0">current_location/0</a></h3>
<div class="spec">
<p><tt>current_location() -&gt; Result</tt>
<ul class="definitions"><li><tt>Result = {FileStub, Index, Pos, SizeLimit, MaxIndex}</tt></li>
<li><tt>FileStub = list()</tt></li>
<li><tt>Index = integer()</tt></li>
<li><tt>Pos = integer()</tt></li>
<li><tt>SizeLimit = integer()</tt></li>
<li><tt>MaxIndex = integer()</tt></li>
</ul></p>
</div><p>return the current location details of the disk_log
  FileStub is the base file name which Index is appended to
  when creating the logs. ie: log_roller_data.1
  Pos is the position in the current log file after the last
  insert.  SizeLimit and MaxIndex are the config values that
  dictate how large log files can become and how many files
  to distribute the logs amongst.</p>

<h3 class="function"><a name="options-0">options/0</a></h3>
<div class="spec">
<p><tt>options() -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="ping-0">ping/0</a></h3>
<div class="spec">
<p><tt>ping() -&gt; {ok, Pid}</tt>
<ul class="definitions"><li><tt>Pid = pid()</tt></li>
</ul></p>
</div><p>respond to ping requests sent from publisher nodes with the gen_server process id</p>

<h3 class="function"><a name="reload-0">reload/0</a></h3>
<div class="spec">
<p><tt>reload() -&gt; ok</tt></p>
</div><p>reload using config values</p>

<h3 class="function"><a name="start_link-0">start_link/0</a></h3>
<div class="spec">
<p><tt>start_link() -&gt; {ok, Pid} | ignore | {error, Error}</tt></p>
</div><p>start the server</p>

<h3 class="function"><a name="subscribe_to-1">subscribe_to/1</a></h3>
<div class="spec">
<p><tt>subscribe_to(Node) -&gt; ok</tt>
<ul class="definitions"><li><tt>Node = list() | <a href="#type-node">node()</a></tt></li>
</ul></p>
</div><p>send a message to the specified node, registering the gen_server process as a subscriber</p>

<h3 class="function"><a name="sync-0">sync/0</a></h3>
<div class="spec">
<p><tt>sync() -&gt; ok | {error, Reason}</tt></p>
</div><p>call disk_log:sync() and force flush of cache</p>

<h3 class="function"><a name="total_writes-0">total_writes/0</a></h3>
<div class="spec">
<p><tt>total_writes() -&gt; any()</tt></p>
</div>
<hr>

<div class="navbar"><a name="#navbar_bottom"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<p><i>Generated by EDoc, Mar 17 2009, 23:22:41.</i></p>
</body>
</html>
